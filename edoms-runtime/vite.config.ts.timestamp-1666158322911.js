// vite.config.ts
import { defineConfig, loadEnv } from 'vite';
import vue from '@vitejs/plugin-vue';
import vueSetupExtend from 'vite-plugin-vue-setup-extend';
const vite_config_default = defineConfig(({ command, mode }) => {
  const { VITE_BASE, VITE_OUT_DIR, VITE_WATCH_INCLUDE = '' } = loadEnv(mode, process.cwd(), '');
  const buildConfig = {
    outDir: VITE_OUT_DIR || 'dist',
    sourcemap: true,
    cssCodeSplit: false,
    rollupOptions: {
      input: {
        value: './src/value-entry.ts',
      },
      output: {
        entryFileNames: 'assets/[name].js',
      },
    },
  };
  if (mode === 'lib') {
    return {
      build: {
        ...buildConfig,
        watch: {
          include: VITE_WATCH_INCLUDE.split(','),
        },
      },
    };
  }
  return {
    base: VITE_BASE || '/edoms/playground/runtime/',
    plugins: [vue(), vueSetupExtend()],
    publicDir: command === 'serve' ? 'dist' : 'public',
    server: {
      host: '0.0.0.0',
    },
    build: {
      ...buildConfig,
    },
  };
});
export { vite_config_default as default };
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IGRlZmluZUNvbmZpZywgbG9hZEVudiwgUGx1Z2luIH0gZnJvbSAndml0ZSc7XHJcbmltcG9ydCB2dWUgZnJvbSAnQHZpdGVqcy9wbHVnaW4tdnVlJztcclxuaW1wb3J0IHZ1ZVNldHVwRXh0ZW5kIGZyb20gJ3ZpdGUtcGx1Z2luLXZ1ZS1zZXR1cC1leHRlbmQnO1xyXG5cclxuLy8gaHR0cHM6Ly92aXRlanMuZGV2L2NvbmZpZy9cclxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKCh7IGNvbW1hbmQsIG1vZGUgfSkgPT4ge1xyXG4gIGNvbnN0IHsgVklURV9CQVNFLCBWSVRFX09VVF9ESVIsIFZJVEVfV0FUQ0hfSU5DTFVERSA9ICcnIH0gPSBsb2FkRW52KG1vZGUsIHByb2Nlc3MuY3dkKCksICcnKTtcclxuXHJcbiAgY29uc3QgYnVpbGRDb25maWcgPSB7XHJcbiAgICBvdXREaXI6IFZJVEVfT1VUX0RJUiB8fCAnZGlzdCcsXHJcbiAgICBzb3VyY2VtYXA6IHRydWUsXHJcbiAgICBjc3NDb2RlU3BsaXQ6IGZhbHNlLFxyXG4gICAgcm9sbHVwT3B0aW9uczoge1xyXG4gICAgICBpbnB1dDoge1xyXG4gICAgICAgIHZhbHVlOiAnLi9zcmMvdmFsdWUtZW50cnkudHMnLFxyXG4gICAgICB9LFxyXG4gICAgICBvdXRwdXQ6IHtcclxuICAgICAgICBlbnRyeUZpbGVOYW1lczogJ2Fzc2V0cy9bbmFtZV0uanMnLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9O1xyXG5cclxuICBpZiAobW9kZSA9PT0gJ2xpYicpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGJ1aWxkOiB7XHJcbiAgICAgICAgLi4uYnVpbGRDb25maWcsXHJcbiAgICAgICAgd2F0Y2g6IHtcclxuICAgICAgICAgIGluY2x1ZGU6IFZJVEVfV0FUQ0hfSU5DTFVERS5zcGxpdCgnLCcpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGJhc2U6IFZJVEVfQkFTRSB8fCAnL2Vkb21zL3BsYXlncm91bmQvcnVudGltZS8nLFxyXG4gICAgcGx1Z2luczogW3Z1ZSgpLCB2dWVTZXR1cEV4dGVuZCgpIGFzIFBsdWdpbl0sXHJcbiAgICBwdWJsaWNEaXI6IGNvbW1hbmQgPT09ICdzZXJ2ZScgPyAnZGlzdCcgOiAncHVibGljJyxcclxuICAgIHNlcnZlcjoge1xyXG4gICAgICBob3N0OiAnMC4wLjAuMCcsXHJcbiAgICB9LFxyXG4gICAgYnVpbGQ6IHtcclxuICAgICAgLi4uYnVpbGRDb25maWcsXHJcbiAgICB9LFxyXG4gIH07XHJcbn0pO1xyXG4iXSwKICAibWFwcGluZ3MiOiAiO0FBQUEsU0FBUyxjQUFjLGVBQXVCO0FBQzlDLE9BQU8sU0FBUztBQUNoQixPQUFPLG9CQUFvQjtBQUczQixJQUFPLHNCQUFRLGFBQWEsQ0FBQyxFQUFFLFNBQVMsS0FBSyxNQUFNO0FBQ2pELFFBQU0sRUFBRSxXQUFXLGNBQWMscUJBQXFCLEdBQUcsSUFBSSxRQUFRLE1BQU0sUUFBUSxJQUFJLEdBQUcsRUFBRTtBQUU1RixRQUFNLGNBQWM7QUFBQSxJQUNsQixRQUFRLGdCQUFnQjtBQUFBLElBQ3hCLFdBQVc7QUFBQSxJQUNYLGNBQWM7QUFBQSxJQUNkLGVBQWU7QUFBQSxNQUNiLE9BQU87QUFBQSxRQUNMLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxRQUFRO0FBQUEsUUFDTixnQkFBZ0I7QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBRUEsTUFBSSxTQUFTLE9BQU87QUFDbEIsV0FBTztBQUFBLE1BQ0wsT0FBTztBQUFBLFFBQ0wsR0FBRztBQUFBLFFBQ0gsT0FBTztBQUFBLFVBQ0wsU0FBUyxtQkFBbUIsTUFBTSxHQUFHO0FBQUEsUUFDdkM7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxTQUFPO0FBQUEsSUFDTCxNQUFNLGFBQWE7QUFBQSxJQUNuQixTQUFTLENBQUMsSUFBSSxHQUFHLGVBQWUsQ0FBVztBQUFBLElBQzNDLFdBQVcsWUFBWSxVQUFVLFNBQVM7QUFBQSxJQUMxQyxRQUFRO0FBQUEsTUFDTixNQUFNO0FBQUEsSUFDUjtBQUFBLElBQ0EsT0FBTztBQUFBLE1BQ0wsR0FBRztBQUFBLElBQ0w7QUFBQSxFQUNGO0FBQ0YsQ0FBQzsiLAogICJuYW1lcyI6IFtdCn0K
